import{f as y,h as f,i as b,p as T,q as B,c as D,m as l,a as e,u as o,e as a,t as i,d as h,b as N,l as U,I as z,A as S,B as j,o as w,_ as P,k as F}from"./index-DyncoFNp.js";import{A as M,c as V}from"./Avatar-BvJYmT9C.js";import{I as c}from"./Icon-XsD-7neM.js";import{N as q}from"./NavBar-BSxUZM35.js";import{l as g}from"./loading-BhoYo60D.js";import{s as p}from"./toast-DSCwmRst.js";const E={class:"wrapper"},K={class:"userInfo-item-wrapper"},W={class:"item-left"},$={class:"item-right"},R={class:"item-left"},G={class:"item-right"},H={class:"nick"},J={class:"userInfo-item"},L={class:"item-left"},O={class:"item-right"},Q={class:"userInfo-item"},X={class:"item-left"},Y={class:"item-right"},Z={class:"uni-input"},ee={class:"userInfo-item"},te={class:"item-left"},se={class:"item-right"},ae={class:"uni-input"},oe={class:"item-left"},ie={class:"item-right"},ne={class:"item-left"},le={class:"item-right"},re={class:"email"},ce={class:"signature-key"},ue={class:"signature-text"},de=y({__name:"my-detail",setup(I){const t=f(),{proxy:v}=b(),r=v==null?void 0:v.$UIKitStore,x=T(()=>{t.value=r==null?void 0:r.userStore.myUserInfo}),m=n=>{S.push({path:j.myDetailEdit,query:{key:n}})},_=f(null),k=()=>{var n;(n=_.value)==null||n.click()},A=async n=>{var d;const u=(d=n.target.files)==null?void 0:d[0];if(u){if(!u.type.startsWith("image/")){p({message:a("FailAvatarText"),type:"info"});return}try{g.show(),await(r==null?void 0:r.userStore.updateSelfUserProfileActive({...t.value},u))}catch{p({message:a("FailAvatarText"),type:"info"})}finally{g.hide(),_.value&&(_.value.value="")}}},C=()=>{var n;try{V(((n=t.value)==null?void 0:n.accountId)||""),p({message:a("copySuccessText"),type:"info",duration:2e3})}catch{p({message:a("copyFailText"),type:"info",duration:2e3})}};return B(()=>{x()}),(n,s)=>{var d;const u=z("picker");return w(),D("div",E,[l(q,{title:o(a)("PersonalPageText")},null,8,["title"]),e("div",K,[e("div",{class:"userInfo-item",onClick:k},[e("div",W,i(o(a)("avatarText")),1),e("div",$,[l(M,{avatar:t.value&&t.value.avatar,account:((d=t.value)==null?void 0:d.accountId)||""},null,8,["avatar","account"]),l(c,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"}),e("input",{type:"file",ref_key:"fileInput",ref:_,style:{display:"none"},accept:"image/*",onChange:A},null,544)])]),s[4]||(s[4]=e("div",{class:"box-shadow"},null,-1)),e("div",{class:"userInfo-item",onClick:s[0]||(s[0]=()=>m("name"))},[e("div",R,i(o(a)("name")),1),e("div",G,[e("div",H,i(t.value&&t.value.name||t.value&&t.value.accountId),1),l(c,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])]),s[5]||(s[5]=e("div",{class:"box-shadow"},null,-1)),e("div",J,[e("div",L,i(o(a)("accountText")),1),e("div",O,[h(i(t.value&&t.value.accountId)+" ",1),e("div",{onClick:N(C,["stop"]),class:"arrow"},[l(c,{size:15,color:"#A6ADB6",type:"icon-fuzhi1"})])])]),s[6]||(s[6]=e("div",{class:"box-shadow"},null,-1)),e("div",Q,[e("div",X,i(o(a)("genderText")),1),e("div",Y,[e("view",Z,i(t.value&&t.value.gender===0?o(a)("unknow"):t.value&&t.value.gender===1?o(a)("man"):o(a)("woman")),1)])]),s[7]||(s[7]=e("div",{class:"box-shadow"},null,-1)),l(u,{mode:"date",value:t.value&&t.value.birthday},{default:U(()=>[e("div",ee,[e("div",te,i(o(a)("birthText")),1),e("div",se,[e("view",ae,i(t.value&&t.value.birthday||o(a)("unknow")),1)])])]),_:1},8,["value"]),s[8]||(s[8]=e("div",{class:"box-shadow"},null,-1)),e("div",{class:"userInfo-item",onClick:s[1]||(s[1]=()=>m("mobile"))},[e("div",oe,i(o(a)("mobile")),1),e("div",ie,[h(i(t.value&&t.value.mobile||o(a)("unknow")),1),l(c,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])]),s[9]||(s[9]=e("div",{class:"box-shadow"},null,-1)),e("div",{class:"userInfo-item",onClick:s[2]||(s[2]=()=>m("email"))},[e("div",ne,i(o(a)("email")),1),e("div",le,[e("div",re,i(t.value&&t.value.email||o(a)("unknow")),1),l(c,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])])]),e("div",{class:"signature",onClick:s[3]||(s[3]=()=>m("sign"))},[e("div",ce,i(o(a)("sign")),1),e("div",ue,i(t.value&&t.value.sign||o(a)("unknow")),1),l(c,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])])}}}),ve=P(de,[["__scopeId","data-v-53fecbea"]]),we=y({__name:"MyDetailPage",setup(I){return(t,v)=>(w(),F(ve))}});export{we as default};

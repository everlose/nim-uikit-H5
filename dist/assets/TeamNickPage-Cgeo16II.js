import{f as k,h as u,i as g,s as w,C as y,p as V,q as S,c as B,m as i,a as s,l as I,t as _,u as o,e as a,w as U,v as F,o as h,k as q}from"./index-DyncoFNp.js";import{I as D}from"./Icon-XsD-7neM.js";import{N as R}from"./NavBar-BSxUZM35.js";import{I as $}from"./Input-BrAf66hy.js";import{t as A}from"./toast-DSCwmRst.js";const E={class:"wrapper"},K={class:"userInfo-item-wrapper"},O=k({__name:"team-nick-edit",setup(b){const c=y(),t=u(""),m=u(!1),p=u();let r="",d=()=>{};const{proxy:l}=g(),e=l==null?void 0:l.$UIKitStore;w(()=>{r=c.currentRoute.value.query.teamId||"",d=V(()=>{var n;p.value=e==null?void 0:e.teamMemberStore.getTeamMember(r,[e==null?void 0:e.userStore.myUserInfo.accountId])[0],t.value=((n=p.value)==null?void 0:n.teamNick)||""})});const C=n=>{t.value=n},x=()=>{m.value=!0},T=()=>{t.value=""},M=()=>{e==null||e.teamMemberStore.updateMyMemberInfoActive({teamId:r,memberInfo:{teamNick:t.value.trim()}}).then(()=>{v()}).catch(()=>{A.info(a("saveFailedText"))})},v=()=>{c.back()};return S(()=>{d()}),(n,f)=>(h(),B("div",E,[i(R,{title:o(a)("nickInTeam")},{left:I(()=>[s("div",{class:"nav-bar-text",onClick:v},_(o(a)("cancelText")),1)]),right:I(()=>[s("div",{onClick:M},_(o(a)("okText")),1)]),_:1},8,["title"]),s("div",K,[i($,{class:"input","confirm-type":o(a)("okText"),onFocus:x,maxlength:15,onInput:C,modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=N=>t.value=N),placeholder:o(a)("nickInTeam")},null,8,["confirm-type","modelValue","placeholder"]),s("div",{onClick:T},[U(i(D,{iconClassName:"clear-icon",type:"icon-shandiao"},null,512),[[F,m.value]])])])]))}}),H=k({__name:"TeamNickPage",setup(b){return(c,t)=>(h(),q(O))}});export{H as default};

import{f as _,c as u,g as v,o as C,a as s,t as d,r as h,_ as k,m as p,K as f}from"./index-DyncoFNp.js";const b={key:0,class:"modal"},y={class:"content"},T={class:"title"},M={class:"slot-content"},x={class:"buttons"},B=_({__name:"Modal",props:{title:{},confirmText:{},cancelText:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(a,{emit:e}){const c=e,l=()=>{c("cancel")},n=()=>{c("confirm")},i=()=>{c("cancel")};return(t,r)=>t.visible?(C(),u("div",b,[s("div",{class:"mask",onClick:l}),s("div",y,[s("div",T,d(t.title),1),s("div",M,[h(t.$slots,"default",{},void 0)]),s("div",x,[s("div",{class:"button cancel",onClick:i},d(t.cancelText),1),s("div",{class:"button confirm",onClick:n},d(t.confirmText),1)])])])):v("",!0)}}),g=k(B,[["__scopeId","data-v-d35dcbad"]]);let o=null;const N=a=>{o||(o=document.createElement("div"),document.body.appendChild(o));const{title:e,content:c,confirmText:l="确定",cancelText:n="取消",onConfirm:i,onCancel:t}=a,r=p(g,{title:e,confirmText:l,cancelText:n,visible:!0,onConfirm:()=>{i==null||i(),m()},onCancel:()=>{t==null||t(),m()}},{default:()=>c});f(r,o);const m=()=>{o&&(f(null,o),document.body.removeChild(o),o=null)}},w={confirm:a=>{const e=typeof a=="string"?{title:a}:a;return new Promise((c,l)=>{N({...e,onConfirm:()=>{var n;(n=e.onConfirm)==null||n.call(e),c()},onCancel:()=>{var n;(n=e.onCancel)==null||n.call(e),l()}})})}};export{g as M,w as m,N as s};
